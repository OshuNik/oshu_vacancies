# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ oshu://work

## üîÑ –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

```
Telegram Channels ‚Üí Parser ‚Üí Edge Function ‚Üí Supabase ‚Üí Frontend
     ‚Üì              ‚Üì           ‚Üì            ‚Üì         ‚Üì
   –°–æ–æ–±—â–µ–Ω–∏—è    –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è   AI-–∞–Ω–∞–ª–∏–∑   –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö  UI
```

## üèóÔ∏è –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

### 1. –ü–∞—Ä—Å–µ—Ä (Python + Telethon)
- **–ó–∞–¥–∞—á–∞**: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ Telegram-–∫–∞–Ω–∞–ª–æ–≤
- **–ß–∞—Å—Ç–æ—Ç–∞**: –ö–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç
- **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è**: –ü–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º –∏–∑ Supabase
- **–í—ã—Ö–æ–¥**: JSON —Å —Ç–µ–∫—Å—Ç–æ–º, –∫–∞–Ω–∞–ª–æ–º, –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–æ–º

### 2. Edge Function (Deno + OpenAI)
- **–ó–∞–¥–∞—á–∞**: AI-–æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–∞–∫–∞–Ω—Å–∏–π
- **–ú–æ–¥–µ–ª—å**: GPT-4o-mini
- **–í—ã—Ö–æ–¥**: –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–∞–∫–∞–Ω—Å–∏–∏
- **–ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è**: –¢–û–ß–ù–û –¢–í–û–Å / –ú–û–ñ–ï–¢ –ë–´–¢–¨ / –ù–ï –¢–í–û–Å

### 3. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (Supabase)
- **–¢–∞–±–ª–∏—Ü—ã**: vacancies, channels, settings, default_channels
- **RLS**: –ü—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø –Ω–∞ —á—Ç–µ–Ω–∏–µ
- **–ò–Ω–¥–µ–∫—Å—ã**: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ —Å—Ç–∞—Ç—É—Å—É –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

### 4. –§—Ä–æ–Ω—Ç–µ–Ω–¥ (HTML/CSS/JS)
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: SPA –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏
- **–°–æ—Å—Ç–æ—è–Ω–∏–µ**: –õ–æ–∫–∞–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∫–ª–∞–¥–∫–∞–º–∏
- **API**: REST –∑–∞–ø—Ä–æ—Å—ã –∫ Supabase

## üìä –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```sql
-- –û—Å–Ω–æ–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –≤–∞–∫–∞–Ω—Å–∏–π
CREATE TABLE vacancies (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  created_at TIMESTAMPTZ DEFAULT NOW(),
  timestamp TIMESTAMPTZ,
  status TEXT DEFAULT 'new',           -- new | favorite | deleted
  category TEXT,                       -- –¢–û–ß–ù–û –¢–í–û–Å | –ú–û–ñ–ï–¢ –ë–´–¢–¨ | –ù–ï –¢–í–û–Å
  reason TEXT,                         -- –ö—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞
  text TEXT,                           -- –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç
  text_highlighted TEXT,               -- –° –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
  keywords_found TEXT,                 -- –ù–∞–π–¥–µ–Ω–Ω—ã–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞
  keyword TEXT,                        -- –°—Ä–∞–±–æ—Ç–∞–≤—à–µ–µ —Å–ª–æ–≤–æ
  channel TEXT,                        -- –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞
  message_link TEXT,                   -- –°—Å—ã–ª–∫–∞ –Ω–∞ –ø–æ—Å—Ç
  has_image BOOLEAN DEFAULT FALSE,     -- –ï—Å—Ç—å –ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
  image_link TEXT,                     -- –°—Å—ã–ª–∫–∞ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
  salary_display_text TEXT,            -- –¢–µ–∫—Å—Ç –∑–∞—Ä–ø–ª–∞—Ç—ã
  employment_type TEXT,                -- –¢–∏–ø –∑–∞–Ω—è—Ç–æ—Å—Ç–∏
  work_format TEXT,                    -- –§–æ—Ä–º–∞—Ç —Ä–∞–±–æ—Ç—ã
  industry TEXT,                       -- –°—Ñ–µ—Ä–∞ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
  company_name TEXT,                   -- –ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏
  company_url TEXT,                    -- –°–∞–π—Ç –∫–æ–º–ø–∞–Ω–∏–∏
  apply_url TEXT,                      -- –°—Å—ã–ª–∫–∞ –¥–ª—è –æ—Ç–∫–ª–∏–∫–∞
  skills TEXT[]                        -- –ú–∞—Å—Å–∏–≤ –Ω–∞–≤—ã–∫–æ–≤
);

-- –ö–∞–Ω–∞–ª—ã –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
CREATE TABLE channels (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  channel_id TEXT NOT NULL,            -- @username –∏–ª–∏ id
  channel_title TEXT,                  -- –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞
  is_enabled BOOLEAN DEFAULT TRUE      -- –ê–∫—Ç–∏–≤–µ–Ω –ª–∏ –∫–∞–Ω–∞–ª
);

-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
CREATE TABLE settings (
  update_key INT PRIMARY KEY DEFAULT 1,
  keywords TEXT                         -- –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é
);

-- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∫–∞–Ω–∞–ª—ã
CREATE TABLE default_channels (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  channel_id TEXT NOT NULL
);
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –£—Ä–æ–≤–Ω–∏ –¥–æ—Å—Ç—É–ø–∞
- **–ü—É–±–ª–∏—á–Ω—ã–π**: –ß—Ç–µ–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–π (ANON_KEY)
- **–ü—Ä–∏–≤–∞—Ç–Ω—ã–π**: –ó–∞–ø–∏—Å—å –≤–∞–∫–∞–Ω—Å–∏–π (SERVICE_KEY)
- **–ê–¥–º–∏–Ω**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–∞–º–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏

### RLS –ø–æ–ª–∏—Ç–∏–∫–∏
```sql
-- –†–∞–∑—Ä–µ—à–∞–µ–º —á—Ç–µ–Ω–∏–µ –≤—Å–µ–º
CREATE POLICY p_vacancies_select ON vacancies 
FOR SELECT USING (true);

-- –ó–∞–ø–∏—Å—å —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ edge-—Ñ—É–Ω–∫—Ü–∏—é
CREATE POLICY p_vacancies_insert ON vacancies 
FOR INSERT WITH CHECK (true);
```

## üì° API Endpoints

### Supabase REST
- `GET /rest/v1/vacancies` - –ü–æ–ª—É—á–µ–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–π
- `PUT /rest/v1/vacancies` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
- `GET /rest/v1/channels` - –°–ø–∏—Å–æ–∫ –∫–∞–Ω–∞–ª–æ–≤
- `GET /rest/v1/settings` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏

### Edge Functions
- `POST /functions/v1/process-vacancy` - –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–∞–∫–∞–Ω—Å–∏–∏

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –ü–∞—Ä—Å–µ—Ä (Amvera)
```yaml
environment: python
toolchain:
  name: python
  version: 3.11
run:
  command: python parser.py
  type: service
```

### Edge Function (Supabase)
```bash
supabase functions deploy process-vacancy
```

### –§—Ä–æ–Ω—Ç–µ–Ω–¥ (–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Ö–æ—Å—Ç–∏–Ω–≥)
- GitHub Pages
- Vercel
- Netlify
- –õ—é–±–æ–π —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Ö–æ—Å—Ç–∏–Ω–≥

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏

### –õ–æ–≥–∏ –ø–∞—Ä—Å–µ—Ä–∞
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∫–∞–Ω–∞–ª–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
- –û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

### –õ–æ–≥–∏ edge-—Ñ—É–Ω–∫—Ü–∏–∏
- –í—Ö–æ–¥—è—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã
- AI-–æ–±—Ä–∞–±–æ—Ç–∫–∞
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î
- –û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

### –ú–µ—Ç—Ä–∏–∫–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –≤–∞–∫–∞–Ω—Å–∏–π
- –ü–æ–∏—Å–∫–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- –î–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å UI
