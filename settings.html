<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Настройки</title>

  <meta http-equiv="Content-Security-Policy"
        content="default-src 'self' https://*.supabase.co https://telegram.org https://fonts.googleapis.com https://fonts.gstatic.com data: blob:;
                 img-src 'self' data: https://*;
                 style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
                 font-src https://fonts.gstatic.com 'self';
                 script-src 'self' https://telegram.org;">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <link rel="icon" href="./favicon.ico">

  <link rel="stylesheet" href="style.css">
</head>
<body>
<header class="header">
  <img src="logo.svg" alt="oshu://work" class="logo">
  <button id="save-button" class="header-icon-btn">Сохранить</button>
</header>

<div class="settings-tabs">
  <button class="settings-tab-button active" data-target="tab-keywords">Ключевые слова</button>
  <button class="settings-tab-button" data-target="tab-channels">Каналы</button>
</div>

<div id="tab-keywords" class="settings-tab-content active">
  <label for="keywords-input">Список ключевых слов (через запятую)</label>
  <textarea id="keywords-input" rows="5" placeholder="монтаж, анимация, reels, ..."></textarea>
  <div class="settings-info">
    <div>Текущие ключевые слова:</div>
    <div id="keywords-display">—</div>
  </div>
</div>

<div id="tab-channels" class="settings-tab-content">
  <div class="settings-actions">
    <button id="load-defaults-btn" class="button-load-defaults">Загрузить стандартные</button>
    <div class="channel-add">
      <input id="channel-input" type="text" placeholder="@username канала">
      <button id="add-channel-btn">Добавить</button>
    </div>
    <button id="delete-all-btn" class="danger">Удалить все</button>
  </div>
  <div id="channels-list" class="channels-list"></div>
</div>

<!-- кастомный confirm -->
<div id="custom-confirm-overlay" class="custom-confirm-overlay hidden">
  <div class="custom-confirm-dialog">
    <p id="custom-confirm-text"></p>
    <div class="custom-confirm-actions">
      <button id="confirm-btn-cancel" class="custom-confirm-button">Отмена</button>
      <button id="confirm-btn-ok" class="custom-confirm-button ok">OK</button>
    </div>
  </div>
</div>

<script src="https://telegram.org/js/telegram-web-app.js"></script>
<script src="config.js"></script>
<script src="utils.js"></script>
<script src="settings.js"></script>
</body>
</html>
