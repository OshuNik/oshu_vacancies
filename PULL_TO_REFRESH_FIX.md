# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Pull-to-Refresh

## üêõ –ü—Ä–æ–±–ª–µ–º–∞
–ü–ª–∞—à–∫–∞ "–ü–æ—Ç—è–Ω–∏—Ç–µ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è" –ø–æ—è–≤–ª—è–ª–∞—Å—å –ø—Ä–∏ –ª—é–±–æ–º –∫–∞—Å–∞–Ω–∏–∏ —ç–∫—Ä–∞–Ω–∞, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Ä–µ–∞–ª—å–Ω–æ–º —Å–≤–∞–π–ø–µ –≤–Ω–∏–∑ –æ—Ç –≤–µ—Ä—Ö–Ω–µ–π —á–∞—Å—Ç–∏.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –ò–∑–º–µ–Ω–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
- **–ë—ã–ª–æ**: –ü–ª–∞—à–∫–∞ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–ª–∞—Å—å –ø—Ä–∏ –ª—é–±–æ–º `touchstart` –≤ –≤–µ—Ä—Ö–Ω–µ–π —á–∞—Å—Ç–∏ —ç–∫—Ä–∞–Ω–∞
- **–°—Ç–∞–ª–æ**: –ü–ª–∞—à–∫–∞ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Ä–µ–∞–ª—å–Ω–æ–º –¥–≤–∏–∂–µ–Ω–∏–∏ –≤–Ω–∏–∑ –±–æ–ª–µ–µ 10px

### 2. –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–∑–∏—Ü–∏–∏ –∫–∞—Å–∞–Ω–∏—è
```javascript
// –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –∫–∞—Å–∞–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –≤–µ—Ä—Ö–Ω–µ–π —á–∞—Å—Ç–∏ —ç–∫—Ä–∞–Ω–∞
const touchY = e.touches[0].clientY;
if (touchY > 100) return; // –ù–µ —Ä–µ–∞–≥–∏—Ä—É–µ–º –Ω–∞ –∫–∞—Å–∞–Ω–∏—è –Ω–∏–∂–µ 100px –æ—Ç –≤–µ—Ä—Ö–∞
```

### 3. –£–ª—É—á—à–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –¥–≤–∏–∂–µ–Ω–∏—è
```javascript
// –ï—Å–ª–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ waiting –∏ –µ—Å—Ç—å startY, –ø—Ä–æ–≤–µ—Ä—è–µ–º –¥–≤–∏–∂–µ–Ω–∏–µ
if (state === 'waiting' && startY !== 0) {
  const currentY = e.touches[0].clientY;
  const moveDistance = currentY - startY;
  
  // –ï—Å–ª–∏ –¥–≤–∏–∂–µ–Ω–∏–µ –≤–Ω–∏–∑ –±–æ–ª—å—à–µ 10px, –∞–∫—Ç–∏–≤–∏—Ä—É–µ–º pulling
  if (moveDistance > 10) {
    setState('pulling');
  }
  return;
}
```

### 4. –£–ª—É—á—à–µ–Ω–æ CSS —Å–∫—Ä—ã—Ç–∏–µ
```css
.ptr-bar {
  opacity: 0;
  visibility: hidden; /* –î–æ–±–∞–≤–ª—è–µ–º –ø–æ–ª–Ω–æ–µ —Å–∫—Ä—ã—Ç–∏–µ */
  transition: opacity 0.2s ease-out, visibility 0.2s ease-out;
}

.ptr-bar.ptr-visible {
  opacity: 1;
  visibility: visible;
}
```

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç
- –ü–ª–∞—à–∫–∞ –±–æ–ª—å—à–µ –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ —Å–ª—É—á–∞–π–Ω—ã—Ö –∫–∞—Å–∞–Ω–∏—è—Ö
- Pull-to-Refresh —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Ä–µ–∞–ª—å–Ω–æ–º —Å–≤–∞–π–ø–µ –≤–Ω–∏–∑ –æ—Ç –≤–µ—Ä—Ö–Ω–µ–π —á–∞—Å—Ç–∏ —ç–∫—Ä–∞–Ω–∞
- –£–ª—É—á—à–µ–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–º–µ–Ω—å—à–µ –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π)
- –ë–æ–ª–µ–µ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## üì± –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∫–æ—Å–Ω—É—Ç—å—Å—è —ç–∫—Ä–∞–Ω–∞ –≤ —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö - –ø–ª–∞—à–∫–∞ –Ω–µ –¥–æ–ª–∂–Ω–∞ –ø–æ—è–≤–ª—è—Ç—å—Å—è
3. –°–≤–∞–π–ø–Ω–∏—Ç–µ –≤–Ω–∏–∑ –æ—Ç –≤–µ—Ä—Ö–Ω–µ–π —á–∞—Å—Ç–∏ —ç–∫—Ä–∞–Ω–∞ - –ø–ª–∞—à–∫–∞ –¥–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è
4. –û—Ç–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –ø–æ—Ä–æ–≥–∞ - –¥–æ–ª–∂–Ω–æ –Ω–∞—á–∞—Ç—å—Å—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
